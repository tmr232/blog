<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Beautiful Sorting in Python | Tamir Bahar</title><meta name=keywords content><meta name=description content="Python has what is probably the most elegant way of sorting a collection of objects by their attribute values:
1 sorted(people, key=attrgetter(&#34;age&#34;, &#34;name&#34;)) Let&rsquo;s break it down.
sorted() We start with the sorted() function. It returns a new sorted list from the items in its first argument.
1 2 >>> sorted([3, 1, 2]) [1, 2, 3] sorted() also takes an optional key function. key, when provided, is used to extract a comparison key from the items being sorted."><meta name=author content="Tamir Bahar"><link rel=canonical href=https://tamir.dev/posts/python-beautiful-sorting/><link crossorigin=anonymous href=/assets/css/stylesheet.0b7a6a59f13c612205962144f1a8f43a859c4d814d43709a9e3e2b0e9353224b.css integrity="sha256-C3pqWfE8YSIFliFE8aj0OoWcTYFNQ3Canj4rDpNTIks=" rel="preload stylesheet" as=style><link rel=icon href=https://tamir.dev/images/profilepic.jpg><link rel=icon type=image/png sizes=16x16 href=https://tamir.dev/images/profilepic.jpg><link rel=icon type=image/png sizes=32x32 href=https://tamir.dev/images/profilepic.jpg><link rel=apple-touch-icon href=https://tamir.dev/images/profilepic.jpg><link rel=mask-icon href=https://tamir.dev/images/profilepic.jpg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=webmention href=https://webmention.io/tamir.dev/webmention><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Beautiful Sorting in Python"><meta property="og:description" content="Python has what is probably the most elegant way of sorting a collection of objects by their attribute values:
1 sorted(people, key=attrgetter(&#34;age&#34;, &#34;name&#34;)) Let&rsquo;s break it down.
sorted() We start with the sorted() function. It returns a new sorted list from the items in its first argument.
1 2 >>> sorted([3, 1, 2]) [1, 2, 3] sorted() also takes an optional key function. key, when provided, is used to extract a comparison key from the items being sorted."><meta property="og:type" content="article"><meta property="og:url" content="https://tamir.dev/posts/python-beautiful-sorting/"><meta property="og:image" content="https://tamir.dev/images/profilepic.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-04T00:00:00+00:00"><meta property="article:modified_time" content="2024-12-04T00:00:00+00:00"><meta property="og:site_name" content="Tamir Bahar"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tamir.dev/images/profilepic.jpg"><meta name=twitter:title content="Beautiful Sorting in Python"><meta name=twitter:description content="Python has what is probably the most elegant way of sorting a collection of objects by their attribute values:
1 sorted(people, key=attrgetter(&#34;age&#34;, &#34;name&#34;)) Let&rsquo;s break it down.
sorted() We start with the sorted() function. It returns a new sorted list from the items in its first argument.
1 2 >>> sorted([3, 1, 2]) [1, 2, 3] sorted() also takes an optional key function. key, when provided, is used to extract a comparison key from the items being sorted."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tamir.dev/posts/"},{"@type":"ListItem","position":2,"name":"Beautiful Sorting in Python","item":"https://tamir.dev/posts/python-beautiful-sorting/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Beautiful Sorting in Python","name":"Beautiful Sorting in Python","description":"Python has what is probably the most elegant way of sorting a collection of objects by their attribute values:\n1 sorted(people, key=attrgetter(\u0026#34;age\u0026#34;, \u0026#34;name\u0026#34;)) Let\u0026rsquo;s break it down.\nsorted() We start with the sorted() function. It returns a new sorted list from the items in its first argument.\n1 2 \u0026gt;\u0026gt;\u0026gt; sorted([3, 1, 2]) [1, 2, 3] sorted() also takes an optional key function. key, when provided, is used to extract a comparison key from the items being sorted.","keywords":[],"articleBody":"Python has what is probably the most elegant way of sorting a collection of objects by their attribute values:\n1 sorted(people, key=attrgetter(\"age\", \"name\")) Letâ€™s break it down.\nsorted() We start with the sorted() function. It returns a new sorted list from the items in its first argument.\n1 2 \u003e\u003e\u003e sorted([3, 1, 2]) [1, 2, 3] sorted() also takes an optional key function. key, when provided, is used to extract a comparison key from the items being sorted.\n1 2 3 # Sort numbers by last digit \u003e\u003e\u003e sorted([13, 21, 32], key=lambda x: x % 10) [21, 32, 13] This also means that if we want to sort custom objects by a given attribute, we can write:\n1 2 3 4 5 6 from dataclasses import dataclass @dataclass class Person: name: str age: int 1 2 3 4 5 6 7 8 9 \u003e\u003e\u003e sorted([ Person(name=\"Alice\", age=32), Person(name=\"Bob\", age=28), Person(name=\"Alice\", age=28), ], key=lambda x: x.age) [Person(name='Bob', age=28), Person(name='Alice', age=28), Person(name='Alice', age=32)] Which is great, but what if we want to sort by age and by name?\ntuple Tuples are usually immutable sequences of heterogeneous elements. Pythonâ€™s tuple has the added property of being compared lexicographically; the first items are compared; if they are the same then the second items are compared, and so on.\nThis allows us to adjust our code to account for both age and name. But remember to put the more significant member first!\n1 2 3 4 5 6 7 8 9 \u003e\u003e\u003e sorted([ Person(name=\"Alice\", age=32), Person(name=\"Bob\", age=28), Person(name=\"Alice\", age=28), ], key=lambda x: (x.age, x.name)) [Person(name='Alice', age=28), Person(name='Bob', age=28), Person(name='Alice', age=32)] With this, we can sort our objects by their attribute values. But we can do better.\nattrgetter() operator.attrgetter() is a higher-order function; it takes one-or-more attribute names, and returns a function that can be used to extract those named attributes from an object.\n1 2 3 4 \u003e\u003e\u003e from operator import attrgetter \u003e\u003e\u003e get_age_and_name = attrgetter(\"age\", \"name\") \u003e\u003e\u003e get_age_and_name(Person(name=\"Bob\", age=28)) (28, 'Bob') We can use this to replace our previous lambda, and get:\n1 2 3 4 5 6 7 8 9 \u003e\u003e\u003e sorted([ Person(name=\"Alice\", age=32), Person(name=\"Bob\", age=28), Person(name=\"Alice\", age=28), ], key=attrgetter(\"name\", \"age\")) [Person(name='Alice', age=28), Person(name='Alice', age=32), Person(name='Bob', age=28)] Which, to me, seems as straight-forward as can be. I really enjoy the way different language and library features combine to create such beautiful patterns.\n","wordCount":"389","inLanguage":"en","datePublished":"2024-12-04T00:00:00Z","dateModified":"2024-12-04T00:00:00Z","author":{"@type":"Person","name":"Tamir Bahar"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tamir.dev/posts/python-beautiful-sorting/"},"publisher":{"@type":"Organization","name":"Tamir Bahar","logo":{"@type":"ImageObject","url":"https://tamir.dev/images/profilepic.jpg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tamir.dev/ accesskey=h title="Tamir Bahar (Alt + H)">Tamir Bahar</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://tamir.dev/blogvent/ title=blogventðŸŽ„><span>blogventðŸŽ„</span></a></li><li><a href=https://tamir.dev/posts/ title=posts><span>posts</span></a></li><li><a href=https://tamir.dev/archives/ title=archives><span>archives</span></a></li><li><a href=https://tamir.dev/index.xml title=rss><span>rss</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="13"><g transform="scale(1)"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></g></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://tamir.dev/>Home</a>&nbsp;Â»&nbsp;<a href=https://tamir.dev/posts/>Posts</a></div><h1 class=post-title>Beautiful Sorting in Python</h1><div class=post-meta><span title='2024-12-04 00:00:00 +0000 UTC'>Dec 4, 2024</span>&nbsp;Â·&nbsp;Tamir Bahar</div></header><div class=post-content><p>Python has what is probably the most elegant way of sorting a collection of objects by their attribute values:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>sorted(people, key<span style=color:#f92672>=</span>attrgetter(<span style=color:#e6db74>&#34;age&#34;</span>, <span style=color:#e6db74>&#34;name&#34;</span>))
</span></span></code></pre></td></tr></table></div></div><p>Let&rsquo;s break it down.</p><h2 id=sorted><a href=#sorted><code>sorted()</code><span hidden class=anchor aria-hidden=true href=#sorted>#</span></a></h2><p>We start with the <a href=https://docs.python.org/3/library/functions.html#sorted><code>sorted()</code></a> function.
It returns a new sorted list from the items in its first argument.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> sorted([<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>])
</span></span><span style=display:flex><span>[<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>]
</span></span></code></pre></td></tr></table></div></div><p><code>sorted()</code> also takes an optional <code>key</code> function.
<code>key</code>, when provided, is used to extract a comparison key from the items being sorted.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Sort numbers by last digit</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> sorted([<span style=color:#ae81ff>13</span>, <span style=color:#ae81ff>21</span>, <span style=color:#ae81ff>32</span>], key<span style=color:#f92672>=</span><span style=color:#66d9ef>lambda</span> x: x <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>[<span style=color:#ae81ff>21</span>, <span style=color:#ae81ff>32</span>, <span style=color:#ae81ff>13</span>]
</span></span></code></pre></td></tr></table></div></div><p>This also means that if we want to sort custom objects by a given attribute, we can write:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> dataclasses <span style=color:#f92672>import</span> dataclass
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@dataclass</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Person</span>:
</span></span><span style=display:flex><span>    name: str
</span></span><span style=display:flex><span>    age: int
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> sorted([
</span></span><span style=display:flex><span>                Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Alice&#34;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>32</span>),
</span></span><span style=display:flex><span>                Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bob&#34;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span>                Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Alice&#34;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span>           ],
</span></span><span style=display:flex><span>           key<span style=color:#f92672>=</span><span style=color:#66d9ef>lambda</span> x: x<span style=color:#f92672>.</span>age)
</span></span><span style=display:flex><span>[Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Bob&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span> Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Alice&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span> Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Alice&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>32</span>)]
</span></span></code></pre></td></tr></table></div></div><p>Which is great, but what if we want to sort by age <em>and</em> by name?</p><h2 id=tuple><a href=#tuple><code>tuple</code><span hidden class=anchor aria-hidden=true href=#tuple>#</span></a></h2><p>Tuples are usually immutable sequences of heterogeneous elements.
Python&rsquo;s <a href=https://docs.python.org/3/library/stdtypes.html#tuples><code>tuple</code></a> has the added property of being compared lexicographically; the first items are compared; if they are the same then the second items are compared, and so on.</p><p>This allows us to adjust our code to account for both age <em>and</em> name.
But remember to put the more significant member first!</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> sorted([
</span></span><span style=display:flex><span>                Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Alice&#34;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>32</span>),
</span></span><span style=display:flex><span>                Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bob&#34;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span>                Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Alice&#34;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span>           ],
</span></span><span style=display:flex><span>           key<span style=color:#f92672>=</span><span style=color:#66d9ef>lambda</span> x: (x<span style=color:#f92672>.</span>age, x<span style=color:#f92672>.</span>name))
</span></span><span style=display:flex><span>[Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Alice&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span> Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Bob&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span> Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Alice&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>32</span>)]
</span></span></code></pre></td></tr></table></div></div><p>With this, we can sort our objects by their attribute values.
But we can do better.</p><h2 id=attrgetter><a href=#attrgetter><code>attrgetter()</code><span hidden class=anchor aria-hidden=true href=#attrgetter>#</span></a></h2><p><a href=https://docs.python.org/3/library/operator.html#operator.attrgetter><code>operator.attrgetter()</code></a> is a higher-order function; it takes one-or-more attribute names, and returns a function that can be used to extract those named attributes from an object.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>from</span> operator <span style=color:#f92672>import</span> attrgetter
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> get_age_and_name <span style=color:#f92672>=</span> attrgetter(<span style=color:#e6db74>&#34;age&#34;</span>, <span style=color:#e6db74>&#34;name&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> get_age_and_name(Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bob&#34;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>))
</span></span><span style=display:flex><span>(<span style=color:#ae81ff>28</span>, <span style=color:#e6db74>&#39;Bob&#39;</span>)
</span></span></code></pre></td></tr></table></div></div><p>We can use this to replace our previous lambda, and get:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> sorted([
</span></span><span style=display:flex><span>                Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Alice&#34;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>32</span>),
</span></span><span style=display:flex><span>                Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bob&#34;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span>                Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Alice&#34;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span>           ],
</span></span><span style=display:flex><span>           key<span style=color:#f92672>=</span>attrgetter(<span style=color:#e6db74>&#34;name&#34;</span>, <span style=color:#e6db74>&#34;age&#34;</span>))
</span></span><span style=display:flex><span>[Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Alice&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>),
</span></span><span style=display:flex><span> Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Alice&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>32</span>),
</span></span><span style=display:flex><span> Person(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Bob&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>28</span>)]
</span></span></code></pre></td></tr></table></div></div><p>Which, to me, seems as straight-forward as can be.
I really enjoy the way different language and library features combine to create such beautiful patterns.</p></div><footer class=post-footer><ul class=post-tags></ul><div style=display:flex;justify-content:center class=discuss><a href=https://github.com/tmr232/tamir.dev/discussions/14 target=_blank rel="noopener noreferrer me" title="Discuss this post">Discuss this post<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="1em" style="margin-bottom:-.2em;margin-left:.2em"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://tamir.dev/>Tamir Bahar</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>