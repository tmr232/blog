<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Don't Amend, Fix | Tamir Bahar</title><meta name=keywords content><meta name=description content="A fun alternative to `git commit --amend`"><meta name=author content><link rel=canonical href=https://tamir.dev/posts/dont-amend-fix/><link crossorigin=anonymous href=/assets/css/stylesheet.45644aa474dc79df40198665054ee839f669de372852cf1df60cb49538828f48.css integrity="sha256-RWRKpHTced9AGYZlBU7oOfZp3jcoUs8d9gy0lTiCj0g=" rel="preload stylesheet" as=style><link rel=icon href=https://tamir.dev/images/profilepic.jpg><link rel=icon type=image/png sizes=16x16 href=https://tamir.dev/images/profilepic.jpg><link rel=icon type=image/png sizes=32x32 href=https://tamir.dev/images/profilepic.jpg><link rel=apple-touch-icon href=https://tamir.dev/images/profilepic.jpg><link rel=mask-icon href=https://tamir.dev/images/profilepic.jpg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Don't Amend, Fix"><meta property="og:description" content="A fun alternative to `git commit --amend`"><meta property="og:type" content="article"><meta property="og:url" content="https://tamir.dev/posts/dont-amend-fix/"><meta property="og:image" content="https://tamir.dev/images/profilepic.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-03-10T00:00:00+00:00"><meta property="article:modified_time" content="2017-03-10T00:00:00+00:00"><meta property="og:site_name" content="Tamir Bahar"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tamir.dev/images/profilepic.jpg"><meta name=twitter:title content="Don't Amend, Fix"><meta name=twitter:description content="A fun alternative to `git commit --amend`"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tamir.dev/posts/"},{"@type":"ListItem","position":2,"name":"Don't Amend, Fix","item":"https://tamir.dev/posts/dont-amend-fix/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Don't Amend, Fix","name":"Don\u0027t Amend, Fix","description":"A fun alternative to `git commit --amend`","keywords":[],"articleBody":"As git users, we know that we should ‚Äúcommit early, commit often.‚Äù While this is a wonderful thing to do, it does mean that from time to time we make a mistake and need to fix a commit. Maybe we forget to git add a new file, or missed a typo. So we go ahead and git commit --amend. Problem solved. Great.\nBut personally, I hate it.\nFor one thing, amending commits hides history. Once you amend, that past state is gone before you can properly test the new one. True, you can also restore it via git reflog, but no-one really likes using that. It should be a last resort.\nFor another thing, amending is very limited. Say I am writing some C code. I write my first module, add it and commit.\n1 2 git add FirstModule.h git commit -m \"Added FirstModule\" I write my second module, and add it as well.\n1 2 git add SecondModule.h SecondModule.c git commit -m \"Added SecondModule\" And now, after adding that second commit, I realize that I forgot to commit FirstModule.c. git commit --amend to the rescue? Not really. I now have to resort to the black, frightening voodoo magic called git rebase.\nFirst, we commit the forgotten module\n1 2 git add FirstModule.c git commit -m \"Added FirstModule.c, forgotten eariler.\" And then rebase - git rebase -i HEAD~3\n1 2 3 pick 1db8687 Added FirstModule pick 336941b Added SecondModule pick 7884909 Added FirstModule.c, forgotten eariler. Change to\n1 2 3 pick 1db8687 Added FirstModule fixup 7884909 Added FirstModule.c, forgotten eariler. pick 336941b Added SecondModule Save \u0026 Quit, and we‚Äôre done.\n1 2 3 4 5 6 7 * 1946e37d105ffebcbd91bb958f8a2fce6160c761 (HEAD -\u003e master) Added SecondModule | create mode 100644 SecondModule.c | create mode 100644 SecondModule.h * 8ffbb9f2915e060a6c4771e13f5a82442743724c Added FirstModule | create mode 100644 FirstModule.c | create mode 100644 FirstModule.h * 815e7bab6ee1fa5bf1df10f5705919b48cbe214c First Commit Not that hard, is it?\nBut still, moving between amending and rebasing can be cumbersome. Especially as most of the time there is no real need to rebase and it‚Äôs easy to forget the process. Enter git commit --fixup (or --squash) and git rebase -i --autosquash.\nThese commands save us the work of reordering the commits and changing from pick to fixup or squash. Making our rebasing work a lot easier.\nI like defining the following aliases:\n1 2 3 4 5 [alias] ri = rebase -i --autosquash mri = rebase -i fix = commit --fixup squ = commit --squash Using those aliases, the rebasing we did earlier would work as follows:\n1 2 3 git add FirstModule.c git fix HEAD~1 git ri HEAD~3 We‚Äôd get the following rebase automatically\n1 2 3 pick 1db8687 Added FirstModule fixup 50a3650 fixup! Added FirstModule pick 336941b Added SecondModule Exit the editor, and be done with it.\nWe can use fix as many times as we want (just go ahead and git fix HEAD -a) before the rebase. Our log may look funny\n1 2 3 4 5 6 7 * fe0c2a0 (HEAD -\u003e master) fixup! fixup! fixup! fixup! Added SecondModule * a53cd32 fixup! fixup! fixup! Added SecondModule * 9c19f2d fixup! fixup! Added SecondModule * b758a53 fixup! Added SecondModule * 902d65e Added SecondModule * 67f1260 Added FirstModule * 815e7ba First Commit But the rebase doesn‚Äôt care\n1 2 3 4 5 pick 902d65e Added SecondModule fixup b758a53 fixup! Added SecondModule fixup 9c19f2d fixup! fixup! Added SecondModule fixup a53cd32 fixup! fixup! fixup! Added SecondModule fixup fe0c2a0 fixup! fixup! fixup! fixup! Added SecondModule Conclusion Stop using git commit --amend and start using git fix (git commit --fixup) instead. It is a no-fear, low-overhead alternative, and it far more flexible. Here are the aliases again, in case you want them:\n1 2 3 4 5 [alias] ri = rebase -i --autosquash mri = rebase -i fix = commit --fixup squ = commit --squash ","wordCount":"639","inLanguage":"en","datePublished":"2017-03-10T00:00:00Z","dateModified":"2017-03-10T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://tamir.dev/posts/dont-amend-fix/"},"publisher":{"@type":"Organization","name":"Tamir Bahar","logo":{"@type":"ImageObject","url":"https://tamir.dev/images/profilepic.jpg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tamir.dev/ accesskey=h title="Tamir Bahar (Alt + H)">Tamir Bahar</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://tamir.dev/blogvent/ title=blogventüéÑ><span>blogventüéÑ</span></a></li><li><a href=https://tamir.dev/posts/ title=posts><span>posts</span></a></li><li><a href=https://tamir.dev/archives/ title=archives><span>archives</span></a></li><li><a href=https://tamir.dev/index.xml title=rss><span>rss</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="13"><g transform="scale(1)"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></g></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://tamir.dev/>Home</a>&nbsp;¬ª&nbsp;<a href=https://tamir.dev/posts/>Posts</a></div><h1 class=post-title>Don't Amend, Fix</h1><div class=post-description>A fun alternative to `git commit --amend`</div><div class=post-meta><span title='2017-03-10 00:00:00 +0000 UTC'>Mar 10, 2017</span></div></header><div class=post-content><p>As git users, we know that we should &ldquo;commit early, commit often.&rdquo; While this is a wonderful thing to do, it does mean that from time to time we make a mistake and need to fix a commit. Maybe we forget to <code>git add</code> a new file, or missed a typo. So we go ahead and <code>git commit --amend</code>. Problem solved. Great.</p><p>But personally, I hate it.</p><p>For one thing, amending commits hides history. Once you amend, that past state is gone before you can properly test the new one. True, you can also restore it via <code>git reflog</code>, but no-one really likes using that. It should be a last resort.</p><p>For another thing, amending is very limited. Say I am writing some C code. I write my first module, add it and commit.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add FirstModule.h
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;Added FirstModule&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>I write my second module, and add it as well.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add SecondModule.h SecondModule.c
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;Added SecondModule&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>And now, after adding that second commit, I realize that I forgot to commit <code>FirstModule.c</code>. <code>git commit --amend</code> to the rescue? Not really. I now have to resort to the black, frightening voodoo magic called <code>git rebase</code>.</p><p>First, we commit the forgotten module</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add FirstModule.c
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;Added FirstModule.c, forgotten eariler.&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>And then rebase - <code>git rebase -i HEAD~3</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>pick 1db8687 Added FirstModule
</span></span><span style=display:flex><span>pick 336941b Added SecondModule
</span></span><span style=display:flex><span>pick 7884909 Added FirstModule.c, forgotten eariler.
</span></span></code></pre></td></tr></table></div></div><p>Change to</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>pick 1db8687 Added FirstModule
</span></span><span style=display:flex><span>fixup 7884909 Added FirstModule.c, forgotten eariler.
</span></span><span style=display:flex><span>pick 336941b Added SecondModule
</span></span></code></pre></td></tr></table></div></div><p>Save & Quit, and we&rsquo;re done.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>* 1946e37d105ffebcbd91bb958f8a2fce6160c761 (HEAD -&gt; master) Added SecondModule
</span></span><span style=display:flex><span>|  create mode 100644 SecondModule.c
</span></span><span style=display:flex><span>|  create mode 100644 SecondModule.h
</span></span><span style=display:flex><span>* 8ffbb9f2915e060a6c4771e13f5a82442743724c Added FirstModule
</span></span><span style=display:flex><span>|  create mode 100644 FirstModule.c
</span></span><span style=display:flex><span>|  create mode 100644 FirstModule.h
</span></span><span style=display:flex><span>* 815e7bab6ee1fa5bf1df10f5705919b48cbe214c First Commit
</span></span></code></pre></td></tr></table></div></div><p>Not that hard, is it?</p><p>But still, moving between amending and rebasing can be cumbersome. Especially as most of the time there is no real need to rebase and it&rsquo;s easy to forget the process. Enter <code>git commit --fixup</code> (or <code>--squash</code>) and <code>git rebase -i --autosquash</code>.</p><p>These commands save us the work of reordering the commits and changing from <code>pick</code> to <code>fixup</code> or <code>squash</code>. Making our rebasing work a lot easier.</p><p>I like defining the following aliases:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[alias]</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ri</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>rebase -i --autosquash
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    mri = rebase -i
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    fix = commit --fixup
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    squ = commit --squash</span>
</span></span></code></pre></td></tr></table></div></div><p>Using those aliases, the rebasing we did earlier would work as follows:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add FirstModule.c
</span></span><span style=display:flex><span>git fix HEAD~1
</span></span><span style=display:flex><span>git ri HEAD~3
</span></span></code></pre></td></tr></table></div></div><p>We&rsquo;d get the following rebase automatically</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>pick 1db8687 Added FirstModule
</span></span><span style=display:flex><span>fixup 50a3650 fixup! Added FirstModule
</span></span><span style=display:flex><span>pick 336941b Added SecondModule
</span></span></code></pre></td></tr></table></div></div><p>Exit the editor, and be done with it.</p><p>We can use <code>fix</code> as many times as we want (just go ahead and <code>git fix HEAD -a</code>) before the rebase. Our log may look funny</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>* fe0c2a0 (HEAD -&gt; master) fixup! fixup! fixup! fixup! Added SecondModule
</span></span><span style=display:flex><span>* a53cd32 fixup! fixup! fixup! Added SecondModule
</span></span><span style=display:flex><span>* 9c19f2d fixup! fixup! Added SecondModule
</span></span><span style=display:flex><span>* b758a53 fixup! Added SecondModule
</span></span><span style=display:flex><span>* 902d65e Added SecondModule
</span></span><span style=display:flex><span>* 67f1260 Added FirstModule
</span></span><span style=display:flex><span>* 815e7ba First Commit
</span></span></code></pre></td></tr></table></div></div><p>But the rebase doesn&rsquo;t care</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>pick 902d65e Added SecondModule
</span></span><span style=display:flex><span>fixup b758a53 fixup! Added SecondModule
</span></span><span style=display:flex><span>fixup 9c19f2d fixup! fixup! Added SecondModule
</span></span><span style=display:flex><span>fixup a53cd32 fixup! fixup! fixup! Added SecondModule
</span></span><span style=display:flex><span>fixup fe0c2a0 fixup! fixup! fixup! fixup! Added SecondModule
</span></span></code></pre></td></tr></table></div></div><h2 id=conclusion><a href=#conclusion>Conclusion<span hidden class=anchor aria-hidden=true href=#conclusion>#</span></a></h2><p>Stop using <code>git commit --amend</code> and start using <code>git fix</code> (<code>git commit --fixup</code>) instead. It is a no-fear, low-overhead alternative, and it far more flexible.
Here are the aliases again, in case you want them:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[alias]</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ri</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>rebase -i --autosquash
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    mri = rebase -i
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    fix = commit --fixup
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    squ = commit --squash</span>
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://tamir.dev/>Tamir Bahar</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>