<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>The Windows CLI sucks, and that's good. | Tamir Bahar</title><meta name=keywords content><meta name=description content="TL;DR Windows&rsquo; shell sucks so people write tools. Tools are fun to use.
Linux&rsquo;s shell is amazing so people write terrible bash scripts and makefiles.
Be sensible. Use Python. Use C.
The rest of the post is me ranting, letting off some steam. Have fun, and don&rsquo;t take it too seriously.
🐢 A Story of Shells 🐢 1 2 3 my_var=$(application arg0 arg1) for /f %%i in ('application arg0 arg1') do set my_var=%%i 🪟 Windows 🪟 I&rsquo;ve been a Windows user for a very long time."><meta name=author content="Tamir Bahar"><link rel=canonical href=https://tamir.dev/posts/the-windows-cli-sucks-and-thats-good/><link crossorigin=anonymous href=/assets/css/stylesheet.0b7a6a59f13c612205962144f1a8f43a859c4d814d43709a9e3e2b0e9353224b.css integrity="sha256-C3pqWfE8YSIFliFE8aj0OoWcTYFNQ3Canj4rDpNTIks=" rel="preload stylesheet" as=style><link rel=icon href=https://tamir.dev/images/profilepic.jpg><link rel=icon type=image/png sizes=16x16 href=https://tamir.dev/images/profilepic.jpg><link rel=icon type=image/png sizes=32x32 href=https://tamir.dev/images/profilepic.jpg><link rel=apple-touch-icon href=https://tamir.dev/images/profilepic.jpg><link rel=mask-icon href=https://tamir.dev/images/profilepic.jpg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="The Windows CLI sucks, and that's good."><meta property="og:description" content="TL;DR Windows&rsquo; shell sucks so people write tools. Tools are fun to use.
Linux&rsquo;s shell is amazing so people write terrible bash scripts and makefiles.
Be sensible. Use Python. Use C.
The rest of the post is me ranting, letting off some steam. Have fun, and don&rsquo;t take it too seriously.
🐢 A Story of Shells 🐢 1 2 3 my_var=$(application arg0 arg1) for /f %%i in ('application arg0 arg1') do set my_var=%%i 🪟 Windows 🪟 I&rsquo;ve been a Windows user for a very long time."><meta property="og:type" content="article"><meta property="og:url" content="https://tamir.dev/posts/the-windows-cli-sucks-and-thats-good/"><meta property="og:image" content="https://tamir.dev/images/profilepic.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-05-01T00:00:00+00:00"><meta property="article:modified_time" content="2017-05-01T00:00:00+00:00"><meta property="og:site_name" content="Tamir Bahar"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tamir.dev/images/profilepic.jpg"><meta name=twitter:title content="The Windows CLI sucks, and that's good."><meta name=twitter:description content="TL;DR Windows&rsquo; shell sucks so people write tools. Tools are fun to use.
Linux&rsquo;s shell is amazing so people write terrible bash scripts and makefiles.
Be sensible. Use Python. Use C.
The rest of the post is me ranting, letting off some steam. Have fun, and don&rsquo;t take it too seriously.
🐢 A Story of Shells 🐢 1 2 3 my_var=$(application arg0 arg1) for /f %%i in ('application arg0 arg1') do set my_var=%%i 🪟 Windows 🪟 I&rsquo;ve been a Windows user for a very long time."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tamir.dev/posts/"},{"@type":"ListItem","position":2,"name":"The Windows CLI sucks, and that's good.","item":"https://tamir.dev/posts/the-windows-cli-sucks-and-thats-good/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"The Windows CLI sucks, and that's good.","name":"The Windows CLI sucks, and that\u0027s good.","description":"TL;DR Windows\u0026rsquo; shell sucks so people write tools. Tools are fun to use.\nLinux\u0026rsquo;s shell is amazing so people write terrible bash scripts and makefiles.\nBe sensible. Use Python. Use C.\nThe rest of the post is me ranting, letting off some steam. Have fun, and don\u0026rsquo;t take it too seriously.\n🐢 A Story of Shells 🐢 1 2 3 my_var=$(application arg0 arg1) for /f %%i in (\u0026#39;application arg0 arg1\u0026#39;) do set my_var=%%i 🪟 Windows 🪟 I\u0026rsquo;ve been a Windows user for a very long time.","keywords":[],"articleBody":"TL;DR Windows’ shell sucks so people write tools. Tools are fun to use.\nLinux’s shell is amazing so people write terrible bash scripts and makefiles.\nBe sensible. Use Python. Use C.\nThe rest of the post is me ranting, letting off some steam. Have fun, and don’t take it too seriously.\n🐢 A Story of Shells 🐢 1 2 3 my_var=$(application arg0 arg1) for /f %%i in ('application arg0 arg1') do set my_var=%%i 🪟 Windows 🪟 I’ve been a Windows user for a very long time. In fact, it has always been my main OS. And I absolutely love it. That is not to say, though, that there aren’t issues with that. One such thing is the CLI.\nFor years, the only thing we had on Windows was cmd.exe and .bat files. And they are ghastly. They are pretty straight-forward for very simple things, but try using them for anything more advanced (like setting a variable to the output of a command) and you’ll quickly realize that this is not the tool for you. You need a real programming language. So you’ll use Python, or C, or something. It will take you a bit longer to write the tool you needed, but in the process it will become an actual tool and not an annoying script.\nIn recent years there has been some serious improvements - PowerShell came along, cmder made the shell look a bit better, and I have some Linux tools (grep, awk, xargs…) running in my Windows shell. And yet, people tend to use more general purpose languages on Windows.\n🐧 Penguins 🐧 On Linux, however, things have always been good with the shell. It has awesome terminals, and a huge amount of utilities that can be chained (piped) to unleash powers beyond imagination. And unlike Windows, where you need to use funny-looking APIs to get information, Linux just gives you everything in handy text files.\nIn fact, Linux is optimized for the shell in ways that make me wince. It is actually easier to parse system information (like, say, a process list) in the shell than in C code. Because instead of proper APIs, we have text files. Text files. The kernel takes binary data, formats it into strings, and the user-mode code can then scanf the code back into binary data. Amazing!\nBut enough of that.\nThe Linux shell is truly remarkable. You can do pretty much anything in a bash script. And people do. Now, there’s a bit of Linux philosophy that I really like. “Do one thing and do it well.” find finds things, grep greps, xargs xargs, and awk awks. So far - so good. But what about bash itself? While each of the shell utilities does one thing and does it well, bash, and especially bash scripts, do not. They allow you to quickly implement advanced behaviours by hacking together multiple commands. You write more and more and more, and everything just works. And then, it doesn’t. And you need to fix it. If you’re lucky, and the code is well documented you might get away with that. But more often than not, it won’t be. And the wonderful “let’s take strings and pass them around” programming style might come back to bite you.\nBut, again, bash is fantastic for quick hacks. And works fairly well in general when you’re not taking input parameters, and when it’s small enough. I don’t like it, but it works.\n🔥 Make Your Own Hell 🔥 The real issue is make.\nmake is a beast spawned in the deepest dungeons of hell (and I am awfully sorry if I offended any such beast by the comparison.) Makefiles give you the benefits of never leaving your shell / code-editor while you work. You just create a makefile, define your targets, and you’re good to go. In truth - that is fantastic. You can even include bash scripts in your makefiles to do custom steps. Or generate makefiles. Or use automake. Or anything else that might make the task of writing makefiles easier to do and harder to maintain. But you write, and you specify, and it just works! Most of the time.\n** Dramatic Pause **\nYou might have noticed I don’t like make. That’s true. This post is mainly me complaining about make and blowing off some steam. Now, I appreciate make. I’ve used it to build things that I never would’ve managed on Windows. It’s an extremely powerful tool. But, you see, as a Windows user, I naturally enjoy IDEs. One such wonderful creation is Visual Studio. As far as C/C++ development tools go it is unparalleled. “But wait!” say my Linux friends, “VS forces you to create foul ‘projects’ using their fiendish ‘GUI’! In Linux, we just write makefiles!” That is true, and it is quite annoying with small projects (where I usually end up having a .bat file to trigger the build with all the relevant flags,) but it is godsend for anything more complex. You have GUI, and Projects, and Solutions and whatnot. It’s great. A bit slow to define, but oh so easy to use!\nAnd now, after I lost most of my Linux-oriented readers, I can get to the point. Linux has a super-powerful shell, so people use it to make a super-powerful mess. Windows has a super-useless shell, so people don’t use it. Instead - they build tools! User-friendly(-ish) tools with GUI. And they use general purpose programming languages. And that’s good.\n🍕 Takeaway 🍕 Should you stop using bash? Or cripple it? Or keep Windows’ shell down? Hell no!\nUse whatever tools you deem fit. But use them wisely. Keep shell-scripting to small automation tasks, and try to use more maintainable programming languages when you write something larger or more complex. And do write new tools. Tools are fun.\n","wordCount":"972","inLanguage":"en","datePublished":"2017-05-01T00:00:00Z","dateModified":"2017-05-01T00:00:00Z","author":{"@type":"Person","name":"Tamir Bahar"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tamir.dev/posts/the-windows-cli-sucks-and-thats-good/"},"publisher":{"@type":"Organization","name":"Tamir Bahar","logo":{"@type":"ImageObject","url":"https://tamir.dev/images/profilepic.jpg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tamir.dev/ accesskey=h title="Tamir Bahar (Alt + H)">Tamir Bahar</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://tamir.dev/blogvent/ title=blogvent🎄><span>blogvent🎄</span></a></li><li><a href=https://tamir.dev/posts/ title=posts><span>posts</span></a></li><li><a href=https://tamir.dev/archives/ title=archives><span>archives</span></a></li><li><a href=https://tamir.dev/index.xml title=rss><span>rss</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="13"><g transform="scale(1)"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></g></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://tamir.dev/>Home</a>&nbsp;»&nbsp;<a href=https://tamir.dev/posts/>Posts</a></div><h1 class=post-title>The Windows CLI sucks, and that's good.</h1><div class=post-meta><span title='2017-05-01 00:00:00 +0000 UTC'>May 1, 2017</span>&nbsp;·&nbsp;Tamir Bahar</div></header><div class=post-content><h2 id=tldr><a href=#tldr>TL;DR<span hidden class=anchor aria-hidden=true href=#tldr>#</span></a></h2><p>Windows&rsquo; shell sucks so people write tools. Tools are fun to use.</p><p>Linux&rsquo;s shell is amazing so people write terrible bash scripts and makefiles.</p><p>Be sensible. Use Python. Use C.</p><p>The rest of the post is me ranting, letting off some steam. Have fun, and don&rsquo;t take it too seriously.</p><h2 id=-a-story-of-shells-><a href=#-a-story-of-shells->🐢 A Story of Shells 🐢<span hidden class=anchor aria-hidden=true href=#-a-story-of-shells->#</span></a></h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>my_var<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>application arg0 arg1<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> /f %%i in <span style=color:#f92672>(</span><span style=color:#e6db74>&#39;application arg0 arg1&#39;</span><span style=color:#f92672>)</span> <span style=color:#66d9ef>do</span> set my_var<span style=color:#f92672>=</span>%%i
</span></span></code></pre></td></tr></table></div></div><h3 id=-windows-><a href=#-windows->🪟 Windows 🪟<span hidden class=anchor aria-hidden=true href=#-windows->#</span></a></h3><p>I&rsquo;ve been a Windows user for a very long time. In fact, it has always been my main OS. And I absolutely love it. That is not to say, though, that there aren&rsquo;t issues with that. One such thing is the CLI.</p><p>For years, the only thing we had on Windows was <code>cmd.exe</code> and <code>.bat</code> files. And they are ghastly. They are pretty straight-forward for very simple things, but try using them for anything more advanced (like <a href=http://stackoverflow.com/questions/2323292/windows-batch-assign-output-of-a-program-to-a-variable>setting a variable to the output of a command</a>) and you&rsquo;ll quickly realize that this is not the tool for you. You need a <em>real</em> programming language. So you&rsquo;ll use Python, or C, or something.
It will take you a bit longer to write the tool you needed, but in the process it will become an actual tool and not an annoying script.</p><p>In recent years there has been some serious improvements - PowerShell came along, <a href=http://cmder.net/>cmder</a> made the shell look a bit better, and I have some Linux tools (grep, awk, xargs&mldr;) running in my Windows shell. And yet, people tend to use more general purpose languages on Windows.</p><h3 id=-penguins-><a href=#-penguins->🐧 Penguins 🐧<span hidden class=anchor aria-hidden=true href=#-penguins->#</span></a></h3><p>On Linux, however, things have always been good with the shell. It has awesome terminals, and a huge amount of utilities that can be chained (piped) to unleash powers beyond imagination. And unlike Windows, where you need to use funny-looking APIs to get information, Linux just gives you everything in handy text files.</p><p>In fact, Linux is optimized for the shell in ways that make me wince. It is actually easier to parse system information (like, say, a process list) in the shell than in C code. Because instead of proper APIs, we have text files. <em>Text</em> files. The kernel takes binary data, formats it into strings, and the user-mode code can then <code>scanf</code> the code back into binary data. Amazing!</p><p>But enough of that.</p><p>The Linux shell is truly remarkable. You can do pretty much anything in a bash script. And people do.
Now, there&rsquo;s a bit of Linux philosophy that I really like. &ldquo;Do one thing and do it well.&rdquo; <code>find</code> finds things, <code>grep</code> greps, <code>xargs</code> xargs, and <code>awk</code> awks. So far - so good. But what about bash itself?
While each of the shell utilities does one thing and does it well, bash, and especially bash scripts, do not. They allow you to quickly implement advanced behaviours by hacking together multiple commands. You write more and more and more, and everything just works. And then, it doesn&rsquo;t. And you need to fix it. If you&rsquo;re lucky, and the code is well documented you might get away with that. But more often than not, it won&rsquo;t be. And the wonderful &ldquo;let&rsquo;s take strings and pass them around&rdquo; programming style might come back to bite you.</p><p>But, again, bash is fantastic for quick hacks. And works fairly well in general when you&rsquo;re not taking input parameters, and when it&rsquo;s small enough. I don&rsquo;t like it, but it works.</p><h2 id=-make-your-own-hell-><a href=#-make-your-own-hell->🔥 Make Your Own Hell 🔥<span hidden class=anchor aria-hidden=true href=#-make-your-own-hell->#</span></a></h2><p>The real issue is <code>make</code>.</p><p><code>make</code> is a beast spawned in the deepest dungeons of hell (and I am awfully sorry if I offended any such beast by the comparison.)
Makefiles give you the benefits of never leaving your shell / code-editor while you work. You just create a makefile, define your targets, and you&rsquo;re good to go. In truth - that is fantastic. You can even include bash scripts in your makefiles to do custom steps. Or generate makefiles. Or use <code>automake</code>. Or anything else that might make the task of writing makefiles easier to do and harder to maintain. But you write, and you specify, and it just works! Most of the time.</p><p>** <strong>Dramatic Pause</strong> **</p><p>You might have noticed I don&rsquo;t like <code>make</code>. That&rsquo;s true. This post is mainly me complaining about <code>make</code> and blowing off some steam. Now, I appreciate <code>make</code>. I&rsquo;ve used it to build things that I never would&rsquo;ve managed on Windows. It&rsquo;s an extremely powerful tool. But, you see, as a Windows user, I naturally enjoy IDEs. One such wonderful creation is Visual Studio. As far as C/C++ development tools go it is unparalleled. &ldquo;But wait!&rdquo; say my Linux friends, &ldquo;VS forces you to create foul &lsquo;projects&rsquo; using their fiendish &lsquo;GUI&rsquo;! In Linux, we just write makefiles!&rdquo;
That is true, and it is quite annoying with small projects (where I usually end up having a <code>.bat</code> file to trigger the build with all the relevant flags,) but it is godsend for anything more complex. You have GUI, and Projects, and Solutions and whatnot. It&rsquo;s great. A bit slow to define, but oh so easy to use!</p><p>And now, after I lost most of my Linux-oriented readers, I can get to the point. Linux has a super-powerful shell, so people use it to make a super-powerful mess. Windows has a super-useless shell, so people don&rsquo;t use it. Instead - they build tools! User-friendly(-ish) tools with GUI. And they use general purpose programming languages. And that&rsquo;s good.</p><h2 id=-takeaway-><a href=#-takeaway->🍕 Takeaway 🍕<span hidden class=anchor aria-hidden=true href=#-takeaway->#</span></a></h2><p>Should you stop using bash? Or cripple it? Or keep Windows&rsquo; shell down? Hell no!</p><p>Use whatever tools you deem fit. But use them wisely. Keep shell-scripting to small automation tasks, and try to use more maintainable programming languages when you write something larger or more complex. And do write new tools. Tools are fun.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://tamir.dev/>Tamir Bahar</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>